# TODO TASKS

私はかつて、このipakという名前のLinuxパッケージマネージャーを開発していたのですが、様々な観点から見て、効率の悪いものになってしまっています

- ソースコードが非常に難読である
- エラー処理などが複雑
- 全体的に効率が悪い

そして、あなたには、これらの課題をすべて解決してほしいのです。

## What to do

### 処理の全体的な効率化

tokioなどを利用して、非同期処理・並列処理をするように、コードを変更してください。
そして、すべてのコードを見直し、余分な処理は省き、複数ヶ所で利用されている処理は一つにまとめてください。
例えば、xという処理を、src/modules/a.rs src/modules/b.rsの2箇所で使用していた場合は、src/modules.rsにxの処理をまとめた関数を用意し、
a.rs, b.rsから読み込み、使用するようにしてください。
また、現在は、引数を、cmd_argクレートを利用して処理していますが、clapクレートを利用したものに置き換えてください。
使用されている引数などについては、src/modules/messages/manual.mdを読んで、確認してください。
また、可読性を向上させるようにしてください。

### エラー処理の変更

エラーの処理方法を変更してください。
現在は、`std::io::Error`を利用していますが、これを変更してほしいです。
src/utils/error.rsをあなたの判断で拡張しつつ、利用するようにしてください。
debugトレイトなどの表示部分は私がすでに完成させているので、変更しないでください。

### lib.rsの変更
preludeモジュールを作成し、今後このipakをモジュールとして使いやすいようにしてください。

## 注意点

クレートなどを新しく追加する際は、コマンドラインから実行するようにしてください。
また、エラーチェックなどもコマンドラインを利用して行うようにしてください。
そして、`cargo clippy`を利用して、静的解析なども行うようにしてください。

